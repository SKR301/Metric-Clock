<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />

    <title>
        Metric Time Machine
    </title>
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div class="wrapper">
        <div class="container">
            <div class="tag">
                Normal Clock
            </div>
            <div class="clk">



                <div class="hour">
                    <div class="hr" id="hr">

                    </div>
                </div>
                <div class="min">
                    <div class="mn" id="mn">

                    </div>
                </div>
                <div class="sec">
                    <div class="sc" id="sc">

                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="tag">
                Decimal Clock

            </div>
            <div class="clkD">


                <div class="hourD">
                    <div class="hrD" id="hrD">

                    </div>
                </div>
                <div class="minD">
                    <div class="mnD" id="mnD">

                    </div>
                </div>
                <div class="secD">
                    <div class="scD" id="scD">

                    </div>
                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript">





        const daysTillGenesis = 719529;   //days passed till 1/1/1971
        const msInADay = 86400000;
        const secsInHr = 3600;
        const secsInMint = 60;
        const oldSecToNewSecRatio = 0.864;


        





        const deg = 6;
        const hr = document.querySelector('#hr');
        const mn = document.querySelector('#mn');
        const sc = document.querySelector('#sc');

        const hrD = document.querySelector('#hrD');
        const mnD = document.querySelector('#mnD');
        const scD = document.querySelector('#scD');
        setInterval(() => {





            let dateTime = new Date();

            let daysAfterGenesis = Math.floor(dateTime.getTime() / msInADay);
            let secsPassedToday = dateTime.getHours() * secsInHr + dateTime.getMinutes() *
                secsInMint + dateTime.getSeconds();

            let daysPassed = daysAfterGenesis + daysTillGenesis;
            let secsPassedTodayMetrics = secsPassedToday / oldSecToNewSecRatio;

            let mYear = Math.floor(daysPassed / 1000);
            let mMonth = Math.floor((daysPassed - mYear * 1000) / 100);
            let mDay = Math.floor(daysPassed - (mYear * 1000) - (mMonth * 100));
            let mHour = Math.floor(secsPassedTodayMetrics / 10000);
            let mMin = Math.floor((secsPassedTodayMetrics - mHour * 10000) / 100);
            let mSec = Math.floor(secsPassedTodayMetrics - (mHour * 10000) - (mMin * 100));
            let mMs = dateTime.getMilliseconds();










            let day = new Date();
            let hh = day.getHours() * 30;
            let mm = day.getMinutes() * deg;
            let ss = day.getSeconds() * deg;
            hr.style.transform = `rotateZ(${(hh) + (mm / 12)}deg)`;
            mn.style.transform = `rotateZ(${mm}deg)`;
            sc.style.transform = `rotateZ(${ss}deg)`;

            hrD.style.transform = `rotateZ(${(mHour*36) + (mMin *0.36)}deg)`;
            mnD.style.transform = `rotateZ(${mMin*3.6}deg)`;
            scD.style.transform = `rotateZ(${mSec*3.6}deg)`;
            
        });


    </script>
</body>

</html>