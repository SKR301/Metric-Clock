<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />

    <title>
        Metric Time Machine
    </title>
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div class="wrapper">
        <div class="container">
            <div class="tag">
                Normal Clock
            </div>
            <div class="clk">



                <div class="hour">
                    <div class="hr" id="hr">

                    </div>
                </div>
                <div class="min">
                    <div class="mn" id="mn">

                    </div>
                </div>
                <div class="sec">
                    <div class="sc" id="sc">

                    </div>
                </div>
            </div>
            <section>
                <div class="box">
                    <div class="calender" id="draggable">
                        <table>
                            <tr>
                                <th class="top-left">
                                    Mon
                                </th>
                                <th>
                                    Tue
                                </th>
                                <th>
                                    Wed
                                </th>
                                <th>
                                    Thu
                                </th>
                                <th>
                                    Fri
                                </th>
                                <th>
                                    Sat
                                </th>
                                <th class="top-right">
                                    Sun
                                </th>
                            </tr>
                            <tr>

                                <td id="0mon">
                                    1
                                </td>
                                <td id="0tue">
                                    2
                                </td>
                                <td id="0wed">
                                    3
                                </td>
                                <td id="0thu">
                                    4
                                </td>
                                <td id="0fri">
                                    5
                                </td>
                                <td id="0sat">
                                    6
                                </td>
                                <td id="0sun">
                                    7
                                </td>
                            </tr>
                            <tr>

                                <td id="1mon">
                                    1
                                </td>
                                <td id="1tue">
                                    2
                                </td>
                                <td id="1wed">
                                    3
                                </td>
                                <td id="1thu">
                                    4
                                </td>
                                <td id="1fri">
                                    5
                                </td>
                                <td id="1sat">
                                    6
                                </td>
                                <td id="1sun">
                                    7
                                </td>
                            </tr>
                            <tr>

                                <td id="2mon">
                                    1
                                </td>
                                <td id="2tue">
                                    2
                                </td>
                                <td id="2wed">
                                    3
                                </td>
                                <td id="2thu">
                                    4
                                </td>
                                <td id="2fri">
                                    5
                                </td>
                                <td id="2sat">
                                    6
                                </td>
                                <td id="2sun">
                                    7
                                </td>
                            </tr>
                            <tr>

                                <td id="3mon">
                                    1
                                </td>
                                <td id="3tue">
                                    2
                                </td>
                                <td id="3wed">
                                    3
                                </td>
                                <td id="3thu">
                                    4
                                </td>
                                <td id="3fri">
                                    5
                                </td>
                                <td id="3sat">
                                    6
                                </td>
                                <td id="3sun">
                                    7
                                </td>
                            </tr>
                            <tr>

                                <td id="4mon" class="bottom-left">
                                    1
                                </td>
                                <td id="4tue">
                                    2
                                </td>
                                <td id="4wed">
                                    3
                                </td>
                                <td id="4thu">
                                    4
                                </td>
                                <td id="4fri">
                                    5
                                </td>
                                <td id="4sat">
                                    6
                                </td>
                                <td id="4sun" class="bottom-right">
                                    7
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>
        </div>
        <div class="container">
            <div class="tag">
                Decimal Clock

            </div>
            <div class="clkD">


                <div class="hourD">
                    <div class="hrD" id="hrD">

                    </div>
                </div>
                <div class="minD">
                    <div class="mnD" id="mnD">

                    </div>
                </div>
                <div class="secD">
                    <div class="scD" id="scD">

                    </div>
                </div>
            </div>
            <section>
                <div class="box">

                    <div class="calenderD">
                        <table>
                            <tr>
                                <th class="top-left">
                                    D1
                                </th>
                                <th>
                                    D2
                                </th>
                                <th>
                                    D3
                                </th>
                                <th>
                                    D4
                                </th>
                                <th>
                                    D5
                                </th>
                                <th>
                                    D6
                                </th>
                                <th>
                                    D7
                                </th>
                                <th>
                                    D8
                                </th>
                                <th>
                                    D9
                                </th>
                                <th class="top-right">
                                    D10
                                </th>
                            </tr>

                        </table>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="./jquery/jquery-1.12.4.js"></script>
    <script src="./jquery/jquery-ui.js"></script>
    <script>
        $( function () {
            $( "#draggable" ).draggable();
        } );
    </script>

    <script type="text/javascript">




        const startDate = new Date( 'January 1, 71 00:00:00' );


        const daysTillGenesis = 719529;   //days passed till 1/1/1971
        const msInADay = 86400000;
        const secsInHr = 3600;
        const secsInMint = 60;
        const oldSecToNewSecRatio = 0.864;
        const msInHr = 3600000;
        const msInMint = 60000;
        const msInSec = 1000;

        const conversionRatio = 0.864;





        const deg = 6;
        const hr = document.querySelector( '#hr' );
        const mn = document.querySelector( '#mn' );
        const sc = document.querySelector( '#sc' );

        const hrD = document.querySelector( '#hrD' );
        const mnD = document.querySelector( '#mnD' );
        const scD = document.querySelector( '#scD' );
        setInterval( () => {





            let dateTime = new Date();

            let daysAfterGenesis = Math.floor( dateTime.getTime() / msInADay );
            let secsPassedToday = dateTime.getHours() * secsInHr + dateTime.getMinutes() *
                secsInMint + dateTime.getSeconds();


            let msPassedToday = dateTime.getHours() * msInHr + dateTime.getMinutes() * msInMint + dateTime.getSeconds() * msInSec + dateTime.getMilliseconds();
            let msPassedTodayMetrics = msPassedToday / conversionRatio;
            let daysPassed = daysAfterGenesis + daysTillGenesis;
            let secsPassedTodayMetrics = secsPassedToday / oldSecToNewSecRatio;

            let mYear = Math.floor( daysPassed / 1000 );
            let mMonth = Math.floor( ( daysPassed - mYear * 1000 ) / 100 );
            let mDay = Math.floor( daysPassed - ( mYear * 1000 ) - ( mMonth * 100 ) );
            let mHour = Math.floor( secsPassedTodayMetrics / 10000 );
            let mMin = Math.floor( ( secsPassedTodayMetrics - mHour * 10000 ) / 100 );
            let mSec = Math.floor( secsPassedTodayMetrics - ( mHour * 10000 ) - ( mMin * 100 ) );
            let mMs = Math.floor( msPassedTodayMetrics - ( mHour * 10000000 ) - ( mMin * 100000 ) - ( mSec * 1000 ) );









            let day = dateTime;
            let hh = day.getHours() * 30;
            let mm = day.getMinutes() * deg;
            let ss = day.getSeconds() * deg;
            let ms = day.getMilliseconds() * deg / 1000;
            let msoffset = mMs * 3.6 / 1000;
            hr.style.transform = `rotateZ(${( hh ) + ( mm / 12 )}deg)`;
            mn.style.transform = `rotateZ(${mm + ss / 60}deg)`;
            sc.style.transform = `rotateZ(${ss + ms}deg)`;

            hrD.style.transform = `rotateZ(${( mHour * 36 ) + ( mMin * 0.36 )}deg)`;
            mnD.style.transform = `rotateZ(${mMin * 3.6 + mSec * 3.6 / 100}deg)`;
            scD.style.transform = `rotateZ(${mSec * 3.6 + msoffset}deg)`;

        } );


    </script>
</body>

</html>